<template>
  <aside class="sidebar">
    <div class="downarrow">
        <img  src="/src//assets/Vector (13).svg" alt="Иконка вниз">
        </div>
        <div class="logo">
        <div class="dgrow">
            <img  src="/public/Group 188.svg" alt="Иконка">
        </div>
        <svg width="134" height="24" viewBox="0 0 134 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M10.7664 18.9867C13.7953 18.9867 15.3923 17.6576 16.1633 16.6541C17.7329 14.5926 17.8705 11.3378 17.8705 9.27636C17.8705 6.99796 17.7879 4.28557 15.9155 2.25128C14.759 1.00358 12.9417 0 10.2707 0H2.72601C1.56952 0 0.936207 0.515353 0.660852 0.813717C0.0275356 1.51894 0 2.33265 0 3.03787V16.5727C0 17.6305 0.440568 18.2001 0.798529 18.4713C0.936207 18.5798 1.51445 18.9867 2.9463 18.9867H10.7664ZM3.63468 3.98721C3.63468 3.58035 3.7999 3.20062 4.02018 3.03787C4.268 2.84801 4.6535 2.84801 4.87378 2.84801H8.64614C9.94031 2.84801 11.675 3.09212 12.7765 4.23132C13.988 5.47902 14.1257 7.37769 14.1257 9.00512C14.1257 12.2329 13.6301 13.6433 13.162 14.3756C12.3359 15.7047 11.0142 16.1387 9.00411 16.1387H4.81871C4.48828 16.1387 4.13032 16.1387 3.8825 15.8675C3.60715 15.5691 3.63468 15.2165 3.63468 14.8368V3.98721Z" fill="#363740"/>
            <path d="M20.7624 4.61106V7.0522H27.9492C28.4448 7.0522 29.0781 7.13358 29.5187 7.67605C29.8766 8.11003 29.9317 8.59826 29.9317 9.03225V10.0358H23.5986C22.8276 10.0358 21.8363 10.0901 20.9276 10.8767C19.8262 11.826 19.6885 13.1008 19.6885 14.3756C19.6885 15.4335 19.7711 17.2779 20.9552 18.2815C21.7812 18.9867 22.8 18.9867 23.5986 18.9867H30.565C31.2534 18.9867 32.052 18.9325 32.5751 18.4171C33.0983 17.9017 33.1534 17.088 33.1534 16.5727V9.11362C33.1534 7.51331 32.6853 6.34698 32.0795 5.72314C31.4186 5.04504 30.2897 4.61106 29.0506 4.61106H20.7624ZM29.9317 12.477V15.7861C29.9317 16.0031 29.9317 16.1929 29.7114 16.3828C29.4912 16.5456 29.1883 16.5456 28.9955 16.5456H24.5072C24.0942 16.5456 23.6812 16.3286 23.4609 16.1116C23.0754 15.7047 23.0203 14.9452 23.0203 14.5113C23.0203 13.4806 23.2681 13.1008 23.3783 12.9652C23.7362 12.5041 24.342 12.477 24.5623 12.477H29.9317Z" fill="#363740"/>
            <path d="M35.3476 18.9867H38.5693V4.61106H35.3476V18.9867ZM38.5693 2.52252V0H35.3476V2.52252H38.5693Z" fill="#363740"/>
            <path d="M40.7794 18.9867H44.0011V0H40.7794V18.9867Z" fill="#363740"/>
            <path d="M60.6949 4.66531H57.4182L52.4618 15.6505L47.7807 4.61106H44.4489L50.9473 18.9325L48.7169 23.6249H51.9937L60.6949 4.66531Z" fill="#363740"/>
            <path d="M85.3774 9.68322H81.7428V14.8639C81.7428 15.1622 81.7428 15.542 81.4399 15.8403C81.137 16.1387 80.8065 16.1387 80.4761 16.1387H75.7676C74.2256 16.1387 72.8763 15.7318 72.0778 14.1587C71.7749 13.5619 71.3068 12.26 71.3068 9.49335C71.3068 6.75384 71.7749 5.50614 72.1053 4.90942C72.8488 3.58035 74.2806 2.84801 76.3733 2.84801H84.9369V0H75.3545C73.5096 0 71.8851 0.406858 70.701 1.16633C67.8649 2.98362 67.562 6.4826 67.562 9.60185C67.562 12.26 67.7547 15.5691 70.0953 17.4949C70.9764 18.2272 72.4358 18.9867 74.5835 18.9867H82.7891C83.3398 18.9867 84.1659 18.824 84.6615 18.4171C85.0195 18.1187 85.3774 17.522 85.3774 16.5456V9.68322Z" fill="#363740"/>
            <path d="M87.5682 18.9867H90.7899V10.8767C90.7899 9.79171 90.9276 8.78813 91.5333 8.05579C92.3043 7.1607 93.4333 7.0522 94.2869 7.0522H95.6361V4.61106H93.4608C92.3319 4.61106 90.4319 4.69243 89.0827 5.85875C87.8436 6.91658 87.5682 8.46265 87.5682 10.0358V18.9867Z" fill="#363740"/>
            <path d="M103.579 4.44831C101.845 4.44831 99.2839 4.50256 97.6869 5.96725C96.0072 7.51331 95.8145 10.2257 95.8145 11.8531C95.8145 13.3178 95.9521 16.0302 97.6869 17.6034C99.2839 19.041 101.845 19.1494 103.579 19.1494C105.259 19.1494 107.903 19.041 109.472 17.6034C110.546 16.5998 111.344 14.7825 111.344 11.7446C111.344 10.2257 111.152 7.51331 109.472 5.96725C107.875 4.50256 105.314 4.44831 103.579 4.44831ZM99.1463 11.826C99.1463 10.9038 99.1463 9.05937 100.055 8.02866C100.964 6.99796 102.533 6.88946 103.579 6.88946C104.736 6.88946 106.14 6.99796 107.076 8.02866C108.095 9.14074 108.013 10.7682 108.013 11.826C108.013 13.0737 108.013 14.457 107.049 15.5148C106.085 16.5727 104.791 16.7083 103.579 16.7083C102.423 16.7083 101.019 16.5727 100.082 15.5148C99.1738 14.4841 99.1463 13.0195 99.1463 11.826Z" fill="#363740"/>
            <path d="M114.489 4.61106H111.405L114.875 17.1965C115.068 17.956 115.426 19.1494 117.381 19.1494C119.06 19.1494 119.666 18.2815 119.886 17.5491L122.42 8.54402C122.447 8.43552 122.502 8.08291 122.64 8.08291C122.778 8.08291 122.833 8.43552 122.86 8.54402L125.393 17.5491C125.806 19.0138 127.128 19.1494 127.899 19.1494C128.973 19.1494 129.937 18.8782 130.405 17.1965L133.874 4.61106H130.79L128.009 15.2436C127.954 15.4335 127.844 15.6776 127.706 15.6776C127.569 15.6776 127.486 15.3792 127.459 15.2707L124.76 5.77738C124.43 4.58393 123.301 4.44831 122.64 4.44831C122.089 4.44831 120.878 4.50256 120.52 5.77738L117.849 15.2707C117.821 15.3521 117.739 15.6776 117.573 15.6776C117.436 15.6776 117.325 15.3792 117.298 15.2436L114.489 4.61106Z" fill="#363740"/>
            </svg>
        </div>
        <span class="usrName">{{ user?.name }}</span>
    <div class="menu">
      <router-link to="/" class="menu-item" active-class="active">
        <svg width="21" height="20" viewBox="0 0 21 20" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M19.708 13.5779L15.188 9.06793C15.2826 8.60731 15.3295 8.13817 15.328 7.66793C15.3277 6.37858 15.0023 5.11013 14.3819 3.97981C13.7616 2.8495 12.8663 1.89381 11.7789 1.20107C10.6915 0.508337 9.44693 0.100916 8.16035 0.0164701C6.87377 -0.0679761 5.58666 0.173277 4.418 0.71793C4.26994 0.785568 4.14062 0.888329 4.04129 1.01729C3.94196 1.14625 3.87561 1.29751 3.848 1.45793C3.8205 1.61632 3.83159 1.779 3.88034 1.93219C3.92908 2.08538 4.01403 2.22456 4.128 2.33793L8.478 6.67793L6.678 8.47793L2.338 4.12793C2.22367 4.01573 2.08405 3.93264 1.93091 3.88566C1.77777 3.83867 1.61558 3.82916 1.458 3.85793C1.29858 3.88453 1.14798 3.94936 1.01911 4.04689C0.890229 4.14442 0.78691 4.27174 0.718 4.41793C0.171525 5.59044 -0.0695185 6.88211 0.0172919 8.1728C0.104102 9.46348 0.515946 10.7112 1.21451 11.8C1.91308 12.8888 2.87567 13.7832 4.01274 14.4C5.14981 15.0168 6.42442 15.336 7.718 15.3279C8.18824 15.3294 8.65738 15.2825 9.118 15.1879L13.628 19.7079C13.721 19.8017 13.8316 19.8761 13.9534 19.9268C14.0753 19.9776 14.206 20.0037 14.338 20.0037C14.47 20.0037 14.6007 19.9776 14.7226 19.9268C14.8444 19.8761 14.955 19.8017 15.048 19.7079C15.1417 19.615 15.2161 19.5044 15.2669 19.3825C15.3177 19.2606 15.3438 19.1299 15.3438 18.9979C15.3438 18.8659 15.3177 18.7352 15.2669 18.6134C15.2161 18.4915 15.1417 18.3809 15.048 18.2879L10.148 13.3879C10.0255 13.2663 9.8737 13.1784 9.70723 13.1329C9.54076 13.0873 9.36532 13.0856 9.198 13.1279C8.71517 13.2572 8.21783 13.3244 7.718 13.3279C6.97005 13.3345 6.22818 13.1931 5.53514 12.9117C4.8421 12.6303 4.21157 12.2146 3.67989 11.6885C3.14821 11.1624 2.72587 10.5363 2.43722 9.84628C2.14856 9.15624 1.99929 8.41591 1.998 7.66793C1.9967 7.33295 2.02346 6.99845 2.078 6.66793L5.998 10.5979C6.09096 10.6917 6.20156 10.7661 6.32342 10.8168C6.44528 10.8676 6.57599 10.8937 6.708 10.8937C6.84001 10.8937 6.97072 10.8676 7.09258 10.8168C7.21444 10.7661 7.32504 10.6917 7.418 10.5979L10.598 7.38793C10.7782 7.20146 10.879 6.95227 10.879 6.69293C10.879 6.43359 10.7782 6.1844 10.598 5.99793L6.708 2.07793C7.03858 2.02394 7.37304 1.99719 7.708 1.99793C9.21004 2.00058 10.6497 2.59912 11.7108 3.66217C12.772 4.72521 13.368 6.16588 13.368 7.66793C13.3645 8.16776 13.2973 8.6651 13.168 9.14793C13.1257 9.31525 13.1274 9.49069 13.1729 9.65716C13.2185 9.82363 13.3064 9.97548 13.428 10.0979L18.328 14.9979C18.5163 15.1862 18.7717 15.292 19.038 15.292C19.3043 15.292 19.5597 15.1862 19.748 14.9979C19.9363 14.8096 20.0421 14.5542 20.0421 14.2879C20.0421 14.0216 19.9363 13.7662 19.748 13.5779H19.708Z" fill="#DCE4EA"/>
        </svg>
        Отзывы
      </router-link>

      <router-link to="/settings" class="menu-item" active-class="active">
        Настройки
      </router-link>
    </div>
  </aside>
</template>

<script setup>
import { ref, onMounted } from 'vue'
import { useRouter } from 'vue-router'

const router = useRouter();
const user = ref(null);

const userName = ref('');

onMounted(() => {
  const user = JSON.parse(localStorage.getItem('user'));
  if (user && user.name) userName.value = user.name;
})

onMounted(() => {
  const storedUser = localStorage.getItem('user');
  if (storedUser) {
    user.value = JSON.parse(storedUser);
  }
})

</script>

<style scoped>
.sidebar {
  width: 280px;
  background: #F6F8FA;
  height: 100vh;
  box-shadow: 4px 0 3px 0px #E5E5E5;
  position: fixed;       
  top: 0;
  left: 0;
  display: flex;
  flex-direction: column;
  box-sizing: border-box;
}

.downarrow {
  margin-left: 4px;
  margin-top: 5.73px;
}

.logo {
  display: flex;
  align-items: baseline;
}

.dgrow {
  margin-top: 19.33px;
  margin-left: 29px;
  padding-right: 9.81px;
}

.usrName {
    font-family: 'Mulish', sans-serif;
    font-weight: 700;
    font-size: 16px;
    line-height: 20px;
    letter-spacing: 0.2px;
    margin-left: 15px;
    margin-top: 14px;
    color: #6C757D;
}

.menu {
  margin-top: 28px;
  margin-left: 15px;
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.menu-item {
  display: flex;
  align-items: center;
  gap: 10px;
  text-decoration: none;
  padding: 4px 50px 4px;
  border-radius: 12px;

  font-family: 'Mulish', sans-serif;
  font-weight: 500;
  font-style: Medium;
  font-size: 12px;
  line-height: 100%;
  letter-spacing: 0px;

  color: #6b7280;
  background: transparent;

  transition: all 0.2s ease;
}

.menu-item:hover {
  background: #FFFFFF;
}

.menu-item.active {
  background: #FFFFFF;
  color: #363740;
  font-family: 'Mulish', sans-serif;
  font-weight: 500;
  font-size: 16px;
  line-height: 100%;
  letter-spacing: 0px;
  opacity: 1;
  border-radius: 12px;
  padding: 14px 50px 14px;
}

.menu-item.active .menu-icon {
  opacity: 1;
}
</style>
